singularityDir = "$SIGULARITY_CACHEPATH"

params {
  config_profile_description = 'The Lonestar 5 (LS5) system TACC HPC cluster profile provided by nf-core/configs'
  config_profile_contact = 'Edmund Miller(@emiller88)'
  config_profile_url = 'https://portal.tacc.utexas.edu/user-guides/lonestar5'
}

singularity {
  enabled = true
  envWhitelist='SINGULARITY_CACHEPATH'
  autoMounts = true
}

process {
  beforeScript = 'module load tacc-singularity/3.4.2'
  executor = 'slurm'
  queue = { task.memory > 64.GB ? 'largemem512GB' : 'normal' }
}

executor {
    queueSize = 50
}

params {
  max_memory = 512.GB
  max_cpus = 48
  max_time = 48.h
}
